function getCartItems(){$.ajax({url:GETCARTITEMSURL,method:"post"}).done(function(n){n.Success&&(cartItems=n.CartItems,updateCartInfo())}).fail(function(){Swal.fire(RESOURCE_ERRORHEADING,RESOURCE_GENERICERRORMESSAGE,"error")})}function updateCartInfo(){var n=sumOfArray(cartItems,"Quantity"),t=sumOfArray(cartItems,"ProductTotal");n||(n=0);t||(t=0);$(".countholder",".cartMenu").html(n);$(".cart-price",".cartMenu").html(PRICECURRENCYPOSITION.replace("{price}",t.toFixed(DIGITSAFTERDECIMAL)))}function validateNewsLetterForm(){$("#newsletter-form").validate({errorClass:"alert alert-danger mt-2 mb-0",errorElement:"div",rules:{email:{required:!0,email:!0}},messages:{email:{required:_newsLetterEmailRequired,email:_newsLetterEmailFormat}},highlight:function(n,t){$(n).removeClass(t)}})}function validateContactUsForm(){$("#contact-form").validate({errorClass:"alert alert-danger mb-0",errorElement:"div",rules:{subject:{required:!0},name:{required:!0},email:{required:!0,email:!0},message:{required:!0}},messages:{subject:{required:_contactFormSubjectRequired},name:{required:_contactFormNameRequired},email:{required:_contactFormEmailRequired,email:_contactFormEmailFormat},message:{required:_contactFormMessageRequired}},highlight:function(n,t){$(n).removeClass(t)}})}function validateLoginForm(){$("#loginForm").validate({errorClass:"alert alert-danger mb-0",errorElement:"div",rules:{Username:{required:!0},Password:{required:!0}},messages:{Username:{required:_usernameRequired},Password:{required:_passwordRequired}},highlight:function(n,t){$(n).removeClass(t)}})}function validateRegisterForm(){$("#registerForm").validate({errorClass:"alert alert-danger mb-0",errorElement:"div",rules:{FullName:{required:!0},Username:{required:!0},Email:{required:!0,email:!0},Password:{required:!0},ConfirmPassword:{required:!0,equalTo:"#regPassword"}},messages:{FullName:{required:_fullNameRequired},Username:{required:_usernameRequired},Email:{required:_emailRequired,email:_emailFormat},Password:{required:_passwordRequired},ConfirmPassword:{required:_confirmPasswordRequired,equalTo:_passwordNotMatch}},highlight:function(n,t){$(n).removeClass(t)}})}function validateForgotPasswordForm(){$("#forgotPasswordForm").validate({errorClass:"alert alert-danger mb-0",errorElement:"div",rules:{Username:{required:!0}},messages:{Username:{required:_usernameRequired}},highlight:function(n,t){$(n).removeClass(t)}})}function validateResetPasswordForm(){$("#resetPasswordForm").validate({errorClass:"alert alert-danger mb-0",errorElement:"div",rules:{Password:{required:!0},ConfirmPassword:{required:!0,equalTo:"#regPassword"}},messages:{Password:{required:_passwordRequired},ConfirmPassword:{required:_confirmPasswordRequired,equalTo:_passwordNotMatch}},highlight:function(n,t){$(n).removeClass(t)}})}function Search(){clearTimeout(searchTimeout);var n=$("#searchURL").val();n&&(searchTimeout=setTimeout(function(){var t=n,i=$("[name=from]").val(),r=$("[name=to]").val(),u=$("[name=sortBy]:enabled").val(),f=$("[name=recordSize]:enabled").val();i&&(t=t+(t.includes("?")?"&":"?")+"from="+i);r&&(t=t+(t.includes("?")?"&":"?")+"to="+r);u&&(t=t+(t.includes("?")?"&":"?")+"sortby="+u);f&&(t=t+(t.includes("?")?"&":"?")+"recordsize="+f);window.location.href=t},100))}function fetchCartItems(){clearTimeout(fetchTimeout);CARTFETCHURL&&($(".bloader",".cartMenu").show(),$(".cart-items-modal",".cartMenu").html(""),fetchTimeout=setTimeout(function(){$.ajax({url:CARTFETCHURL}).done(function(n){$(".bloader",".cartMenu").hide();$(".cart-items-modal",".cartMenu").html(n)}).fail(function(){Swal.fire(RESOURCE_ERRORHEADING,RESOURCE_GENERICERRORMESSAGE,"error")})},1e3))}function stopfetchCartItems(){clearTimeout(fetchTimeout)}function sumOfArray(n,t){let i=null;return n&&n.length>0&&typeof t=="string"&&(i=n.map(n=>n[t]).reduce((n,t)=>n+t,0)),i}function addLoader(n){$("<div class='loading-overlay'><div class='spinner-div d-flex justify-content-center'><div class='align-self-center spinner-border' role='status'><span class='sr-only'>Loading...<\/span><\/div><\/div><\/div>").appendTo($("#"+n).css("position","relative"))}function removeLoader(n){$(".loading-overlay","#"+n).remove()}function showSiteLoader(){$(".loader").fadeIn();$("#preloder").delay(200).fadeIn("slow")}function hideSiteLoader(){$(".loader").fadeOut();$("#preloder").delay(200).fadeOut("slow")}function applyQuantityFunctions(){$(".qtybtn").off("click").on("click",function(){var t=$(this),i=t.parent().find(".qtytxt"),n=i.val(),r=0;r=t.hasClass("inc")?parseFloat(n)+1:n>1?parseFloat(n)-1:1;i.val(r)});$(".qtytxt").off("keyup").on("keyup",function(){var n=parseInt($(this).val());Number.isInteger(n)?n>0&&n<=1e3?$(this).val(n):$(this).val(1):$(this).val(1)})}var searchTimeout,fetchTimeout;$(document).ready(function(){updateCartInfo();$("#cart-info").mouseenter(fetchCartItems).mouseleave(stopfetchCartItems);$(".language_drop").msDropdown({roundedBorder:!1});$("#ddlanguages").change(function(){var n=$(this).val();n&&(showSiteLoader(),window.location.href=n)});$(".pi-pic").click(function(){var n=$(this).attr("data-href");n&&(window.location.href=n)});applyQuantityFunctions();$(".btnAddToCart").click(function(n){var r=$(this),i=r.parents(".itemCartHolder").find("input.qtytxt"),t=0;i.length>0?(t=i.val(),(t===undefined||t===null||t===0||t<0||t>1e3)&&(t=1,i.val(t))):t=1;Toast.fire({icon:"info",iconHtml:'<i class="spinner-border spinner-border-sm"><\/i>',title:RESOURCE_ADDINGPRODUCTTOCART});$.ajax({url:ADDITEMTOCARTURL,method:"post",data:{itemID:r.attr("data-id"),quantity:t}}).done(function(n){n.Success?(cartItems=n.CartItems,updateCartInfo(),Toast.fire({icon:"success",iconHtml:'<i class="fas fa-cart-plus"><\/i>',title:n.Message})):Swal.fire(RESOURCE_ERRORHEADING,n.Message,"error")}).fail(function(){Swal.fire(RESOURCE_ERRORHEADING,RESOURCE_GENERICERRORMESSAGE,"error")});n.stopPropagation()});$("#changeMode").click(function(){$.ajax({url:CHANGEMODEURL,method:"post"}).done(function(n){n.Success?window.location.reload():Swal.fire(RESOURCE_ERRORHEADING,RESOURCE_GENERICERRORMESSAGE,"error")}).fail(function(){Swal.fire(RESOURCE_ERRORHEADING,RESOURCE_GENERICERRORMESSAGE,"error")})})});const Toast=Swal.mixin({toast:!0,position:"bottom",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:n=>{n.addEventListener("mouseenter",Swal.stopTimer),n.addEventListener("mouseleave",Swal.resumeTimer)}});