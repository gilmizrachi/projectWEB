@model IEnumerable<projectWEB.Data.Item>

@{

    Layout = "~/Views/Shared/_BlankLayout.cshtml";
}
<div class="text-widget">
    <h3>Related Products</h3>

</div><!-- end title -->
<div class="row blog-grid shop-grid">
    @if (Model != null)
        @foreach (var item in Model)
        {



            <div class="col-md-3">
                <div class="course-box shop-wrapper">
                    <div class="image-wrap entry">
                        <img src="~/upload/items/@(Html.Raw(item.id))-0.jpg" alt="" class="img-responsive">
                        <div class="magnifier">
                            <a asp-controller="Items" asp-action="item_details" asp-route-id="@item.id" title=""><i class="flaticon-add"></i></a>
                        </div>
                    </div>
                    <!-- end image-wrap -->
                    <div class="course-details shop-box text-center">
                        <h4>
                            <a asp-controller="Items" asp-action="item_details" asp-route-id="@item.id" title="">@Html.DisplayFor(modelItem => item.ItemName)</a>
                            <small>@Html.DisplayFor(modelItem => item.ItemDevision)</small>
                        </h4>
                    </div>

                    <!-- end details -->
                    <div class="course-footer clearfix">
                        <div class="pull-left">
                            <ul class="list-inline">
                                @if (item.amount > 0)
                                {
                                    <li><a href="#" id="AddCartLink" value='@item.id'><i class="fa fa-shopping-basket"></i> Add Cart</a><input type="hidden" style="display:none" asp-controller="Transactions" asp-action="Addtocart" asp-route-id="@item.id" id="AddToCart" /></li>
                                    <!-- TODO cart model -->

                                }
                                else
                                {
                                    <a> <i class="fa fa-truck">This item is currntly out of stock</i> </a>
                                }
                            </ul>
                        </div><!-- end left -->

                        <div class="pull-right">
                            <ul class="list-inline">
                                <li><a href="#">$@Html.DisplayFor(modelItem => item.price)</a></li>
                            </ul>
                        </div><!-- end left -->
                    </div><!-- end footer -->
                </div><!-- end box -->
            </div><!-- end col -->

        }
</div>